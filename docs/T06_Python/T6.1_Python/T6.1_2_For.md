# 6.1.2 La boucle `for`

> Un ordinateur est fait pour effectuer des calculs longs et **répétitifs**.

## 1. Le principe
<!-- «Une cuillère pour ... maman», «Une cuillère pour ... Papa», «Une cuillère pour ... Tatie Jacqueline», etc. -->

Imaginons - nous sommes en 2074 - une maman (ou un papa) qui souhaite faire manger à son enfant les 10 dernières cuillères de soupe... en programmant son robot domestique pour qu'il annonce ces phrases à sa place.

On pourrait imaginer un code qui ressemble à ça:

```python
print("Une cuillère pour maman")
print("Une cuillère pour papa")
print("Une cuillère pour mamie Françoise")
print("Une cuillère pour papy Jacques")
print("Une cuillère pour mémé Paulette")
print("Une cuillère pour tata Jacqueline")
print("Une cuillère pour tonton Michel")
print("Une cuillère pour le cousin Maurice")
print("Une cuillère pour la cousine Gertrude")
print("Une cuillère pour Médor")
```

C'est très répétitif. Et heureusement qu'il n'y a que 10 cuillères...

D'autant que chaque instruction est quasiment identique, seul le nom du membre de la famille change.

En français, on serait tenté de résumer en 
> «annonce une cuillère pour chacun des 10 membres de la famille»

Heureusement, dans tous les langages de programmation, il existe une instruction qui permet de répeter une instruction (ou plusieurs instructions) **pour chaque élément d'un ensemble de valeurs donné**: la boucle[^1] `for`.

[^1]: en programmation, on parle de **boucle** pour toute instruction qui permet de répéter des instructions.

## 2. La syntaxe
!!! abstract "La boucle `for`"
    Pour mettre en place cette boucle, on a besoin d'identifier:

    - les instructions à répéter;
    - pour quelles valeurs *différentes* on doit les répéter: on a donc besoin d'une variable et d'un ensemble de valeurs;
    - identifier dans les instructions ce qui dépend de cette variable de boucle.

    Ici, seul le nom change, on a donc besoin d'une variable de boucle qui va prendre successivement tous les noms des membres de la famille (nommons-la de façon très originale `nom`), et on va répéter l'instruction pour chacune des valeurs `"maman", "papa", "mamie Françoise", "papy Jacques", "mémé Paulette", "tata Jacqueline", "tonton Michel", "le cousin Maurice", "la cousine Gertrude", "Médor"`.

    Cela donne en Python:
    ```python
    liste_noms = ["maman", "papa", "mamie Françoise", "papy Jacques", "mémé Paulette", "tata Jacqueline", "tonton Michel", "le cousin Maurice", "la cousine Gertrude", "Médor"]

    for nom in liste_noms:
        print("Une cuillère pour", nom)
    ```
    
    Syntaxe générale:
    ```python
    for var in ensemble:
        *instructions à répéter*
    ```
    où `var` est un nom de variable (non précédemment déclarée dans le programme), `ensemble` un ensemble de valeurs défini à l'avance.

    On dit que `var` *parcourt* l'ensemble `ensemble`.


!!! warning "Syntaxe"
    Il faut absolument un caractère `:` à la fin de la ligne du `for` !

!!! warning "Indentation"
    C'est le **décalage par rapport à la marge** - qu'on appelle **indentation** - qui détermine quelles sont les instructions à répéter !

!!! example "Exemple"
    Tester les différents codes suivants dans votre IDE ou dans la console ci-dessous:

    === "Code 1"
        ```python
        for k in ["toto", "tata", "tutu"]:
        print("Bonjour", end=" ")
        print(k)
        ```
    === "Code 2"
        ```python
        for k in ["toto", "tata", "tutu"]:
            print("Bonjour", end=" ")
            print(k)
        ```
    === "Code 3"
        ```python
        for k in ["toto", "tata", "tutu"]:
            print("Bonjour", end=" ")
        print(k)
        ```
    
    {{ IDEv() }}
    

## 3. Les ensembles de valeurs

!!! abstract "Iterables"
    Dans une boucle `for`, l'ensemble des valeurs que la variable de boucle va parcourir doit être **itérable**, c'est-à-dire un objet dont on peut énumérer les éléments un par un.

    Par exemple:

    - une liste : c'est un type construit, que nous étudierons au thème 2, qui s'écrit entre crochets, ses éléments étant séparés par une virgule (comme dans l'exemple du **2.**). On peut donc parcourir ses éléments.
    - une chaîne de caractères. On peut parcourir chacun des caractères;
    - un objet de type `range`: c'est un objet qui produit une plage de nombres entiers. On peut parcourir chacun des nombres un à un.

!!! example "Exemples à tester"
    === "avec une chaîne de caractères"
        ```python
        for l in "Angoulême":
            print(l)
        ```
        
    === "avec une liste"
        ```python
        for a in [1, 2, 3, 4]:
            b = 2 * a
            print("le double de", a, "est", b)
        ```
    
    === "avec un `range`"
        ```python
        for k in range(10):
            print(k, "x 5 =", k*5)
        ```
        
## 4. À propos du `range`

## 5. Pour conclure

!!! done "À retenir"
    - La boucle `for` s'utilise lorsqu'on connaît à l'avance le nombre de répétitions à effectuer: soit un nombre entier, soit l'ensemble des valeurs contenus dans un **iterable**.
    - Les instructions répétées peuvent - mais ce n'est pas obligatoire - faire appel à la variable de boucle, mais il ne faut pas que ces instructions la modifient.

    - Ne pas oublier les `:` et l'indentation !
